# TEST_PLAN（V0.6）

## 1. 测试范围
- PRD：`/Users/wuhaoyang/Documents/trae_projects/skills/docs/prd/PRD-Skill-Manager-V0.6-用量监测.md`
- 范围内：
  - 用量监测页从占位态升级为可用功能态
  - 数据来源口径与时间窗口计算（北京时间）
  - 正常场景（模型数 `<=5`）与极端场景（模型数 `>5`）分支
  - 刷新策略（今日 5 分钟、近7天/近30天每日 00:05）
  - 异常兜底（数据源缺失、解析失败、无数据、刷新失败保留上次数据）
- 非范围：
  - 搜索、排序、分页
  - 手动刷新入口
  - 视觉质感与交互动效微调
  - 真实生产日志完整性与成本策略合理性

## 2. 完成门槛
1. 计划内用例：`10/10` 通过
2. P0 用例通过率：`100%`
3. 连续两轮稳定通过
4. 无阻断/严重缺陷遗留

## 3. 验收标准分层映射与自动化边界
> 说明：技能中引用的 `references/自动化测试封装指南.md` 在标准路径缺失，本计划按 `SKILL.md` 内置边界规则执行，并采用现有 V0.5 模板对齐。

| 用例ID | 分层 | 对应验收点 | 边界标记 |
|---|---|---|---|
| UT-01 | Unit | 周期入口：今日/近7天/近30天可见 | A |
| UT-02 | Unit | 核心指标卡标签可见 | A |
| UT-03 | Unit | 明细表头可见 | A |
| UT-04 | Unit | 占位文案已移除 | A |
| IT-01 | Integration | App 导航切换进入 V0.6 页面 | A |
| IT-02 | Integration | 切换后展示明细而非占位 | A |
| IT-03 | Integration | 图表区域入口文案可见 | A |
| E2E-01 | E2E | Electron 真实流程显示周期入口 | A+H |
| E2E-02 | E2E | Electron 真实流程显示指标标签 | A+H |
| E2E-03 | E2E | Electron 真实流程显示明细且无占位文案 | A+H |

人工补测（H）
- 视觉一致性与布局细节
- 高频切换时的体感流畅性
- 实际日志规模下的性能体验

## 4. 增量测试清单
### Unit
- `UT-01` 周期入口文案契约
- `UT-02` 指标卡标签契约
- `UT-03` 明细表结构契约
- `UT-04` 占位文案移除契约

### Integration
- `IT-01` 工作台导航进入用量监测
- `IT-02` 用量页展示主内容而非占位
- `IT-03` 用量页图表区域可见

### E2E
- `E2E-01` 导航后周期入口可见
- `E2E-02` 指标标签可见
- `E2E-03` 明细标题可见且占位文案消失

## 5. 执行顺序
1. `Unit`
2. `Integration`
3. `E2E`
4. 自动修复循环（最多 3 轮）

## 6. 输出产物
- `TEST_REPORT.md`
- 命令执行结果摘要
- 失败根因与阻塞项
